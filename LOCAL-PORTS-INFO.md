# ๐ ะะพะบะฐะปัะฝัะต ะฟะพััั - ะะฐะถะฝะฐั ะธะฝัะพัะผะฐัะธั

## ะััะธัะตะบัััะฐ ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ

### OpenServer + Node.js

ะะฐัะฐ ะปะพะบะฐะปัะฝะฐั ััะตะดะฐ ะธัะฟะพะปัะทัะตั **ะดะฒะฐ ะฟะพััะฐ**:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะัะฐัะทะตั                                    โ
โ  http://localhost/                          โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ port 80
                 โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  OpenServer (Apache/Nginx)                  โ
โ  - ะกัะฐัะธัะตัะบะธะต ัะฐะนะปั (HTML, CSS, JS)       โ
โ  - ะัะพะบัะธััะตั WebSocket โ :3000             โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ proxy to port 3000
                 โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Node.js Server                             โ
โ  - ะะณัะพะฒะฐั ะปะพะณะธะบะฐ                           โ
โ  - WebSocket ัะตัะฒะตั                         โ
โ  - Port: 3000                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ ะัะฐะฒะธะปัะฝัะต URL

### ะะพะบะฐะปัะฝะพ (ั OpenServer)

โ **ะะณัะฐ:**  
```
http://localhost/examples/50-lander_virtual_keyboard/
```

โ๏ธ **Node.js backend (ะพะฑััะฝะพ ะฝะต ะฝัะถะตะฝ ะฝะฐะฟััะผัั):**  
```
http://localhost:3000
```

### ะะฐ ะฟัะพะดะฐะบัะฝ ัะตัะฒะตัะต

โ **ะะณัะฐ:**  
```
http://51.250.30.92/examples/50-lander_virtual_keyboard/
```

---

## ๐ ะ ัะบัะธะฟัะฐั ะธัะฟะพะปัะทัะตััั

### `start-local.ps1`
- ะะฐะฟััะบะฐะตั Node.js ะฝะฐ ะฟะพััั **3000**
- ะัะบััะฒะฐะตั ะฑัะฐัะทะตั ะฝะฐ **http://localhost/** (ัะตัะตะท OpenServer)

### `status-local.ps1`
- ะะพะบะฐะทัะฒะฐะตั ััะฐััั Node.js ัะตัะฒะตัะฐ ะฝะฐ ะฟะพััั **3000**
- ะะพะบะฐะทัะฒะฐะตั ะฟัะฐะฒะธะปัะฝัะน URL ะดะปั ะธะณัั: **http://localhost/**

### `client.js` (ัะผะฝะฐั ะปะพะณะธะบะฐ)
```javascript
var serverUrl;
if (window.location.hostname === '51.250.30.92') {
    // Production: connect through Nginx
    serverUrl = window.location.origin;
} else {
    // Local development: connect directly to Node.js on port 3000
    serverUrl = 'http://' + window.location.hostname + ':3000';
}
```

ะะปะธะตะฝั ะฐะฒัะพะผะฐัะธัะตัะบะธ:
- **ะะพะบะฐะปัะฝะพ:** ะฟะพะดะบะปััะฐะตััั ะบ `http://localhost:3000` (Node.js)
- **ะะฐ ัะตัะฒะตัะต:** ะฟะพะดะบะปััะฐะตััั ะบ `http://51.250.30.92` (Nginx proxy)

---

## ๐ง ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั ะปะพะบะฐะปัะฝะพ

1. **ะะฐะฟััะบะฐะตัะต Node.js ัะตัะฒะตั:**
   ```powershell
   .\start-local.ps1
   ```
   Node.js ัะปััะฐะตั ะฝะฐ ะฟะพััั **3000**

2. **ะัะบััะฒะฐะตัะต ะธะณัั ะฒ ะฑัะฐัะทะตัะต:**
   ```
   http://localhost/examples/50-lander_virtual_keyboard/
   ```
   - OpenServer ะพัะดะฐัั ััะฐัะธัะตัะบะธะต ัะฐะนะปั (HTML, CSS, JS) ัะตัะตะท ะฟะพัั **80**
   - ะัะฐัะทะตั ะทะฐะณััะถะฐะตั `client.js`
   - `client.js` ะฒะธะดะธั ััะพ hostname = `localhost`
   - ะะพะดะบะปััะฐะตััั ะบ WebSocket ะฝะฐ `http://localhost:3000`
   - Node.js ัะตัะฒะตั ะฝะฐ ะฟะพััั 3000 ะพะฑัะฐะฑะฐััะฒะฐะตั WebSocket

3. **ะัะพัะธั!** ะะณัะฐ ัะฐะฑะพัะฐะตั ัะตัะตะท ะดะฒะฐ ะฟะพััะฐ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ.

---

## โ ะะพัะตะผั ัะฐะบ ัะปะพะถะฝะพ?

### OpenServer ะฝัะถะตะฝ ะดะปั:
- ะฃะดะพะฑะฝะพะน ัะฐะทัะฐะฑะพัะบะธ (ะฝะต ะฝัะถะฝะพ ะฝะฐัััะฐะธะฒะฐัั ะฒะธัััะฐะปัะฝัะต ัะพััั)
- ะกัะฐัะธัะตัะบะธั ัะฐะนะปะพะฒ (HTML, CSS, ะธะทะพะฑัะฐะถะตะฝะธั)
- ะะผะธัะฐัะธะธ ะฟัะพะดะฐะบัะฝ ะพะบััะถะตะฝะธั (ะณะดะต ัะพะถะต ะตััั Nginx)

### Node.js ะฝัะถะตะฝ ะดะปั:
- ะะณัะพะฒะพะน ัะตัะฒะตัะฝะพะน ะปะพะณะธะบะธ
- WebSocket ัะพะตะดะธะฝะตะฝะธะน (ัะตะฐะปัะฐะนะผ ะผัะปััะธะฟะปะตะตั)
- ะคะธะทะธัะตัะบะพะณะพ ะดะฒะธะถะบะฐ Box2D

---

## ๐จ ะงะฐัััะต ะพัะธะฑะบะธ

### ะัะธะฑะบะฐ 1: "Cannot connect to server"

**ะัะพะฑะปะตะผะฐ:** Node.js ัะตัะฒะตั ะฝะต ะทะฐะฟััะตะฝ.

**ะะตัะตะฝะธะต:**
```powershell
.\start-local.ps1
```

### ะัะธะฑะบะฐ 2: "404 Not Found"

**ะัะพะฑะปะตะผะฐ:** OpenServer ะฝะต ะทะฐะฟััะตะฝ ะธะปะธ ะฝะตะฟัะฐะฒะธะปัะฝัะน ะฟััั.

**ะะตัะตะฝะธะต:**
1. ะะฐะฟัััะธัะต OpenServer
2. ะัะพะฒะตัััะต ััะพ ะดะพะผะตะฝ ัััะตััะฒัะตั: `localhost`
3. ะัะฟะพะปัะทัะนัะต ะฟัะฐะฒะธะปัะฝัะน URL: `http://localhost/examples/50-lander_virtual_keyboard/`

### ะัะธะฑะบะฐ 3: "WebSocket connection failed"

**ะัะพะฑะปะตะผะฐ:** Node.js ัะตัะฒะตั ะฝะต ะพัะฒะตัะฐะตั ะฝะฐ ะฟะพััั 3000.

**ะะตัะตะฝะธะต:**
```powershell
.\status-local.ps1  # ะัะพะฒะตัะธัั ััะฐััั
.\restart-local.ps1  # ะะตัะตะทะฐะฟัััะธัั
```

---

## ๐ ะััััะฐั ัะฟัะฐะฒะบะฐ

| ะะพะผะฟะพะฝะตะฝั | ะะพัั | URL | ะะฐะทะฝะฐัะตะฝะธะต |
|-----------|------|-----|------------|
| **OpenServer** | 80 | http://localhost/ | ะกัะฐัะธะบะฐ + ะฟัะพะบัะธ |
| **Node.js** | 3000 | http://localhost:3000 | Backend + WebSocket |
| **ะะณัะฐ** | 80 | http://localhost/examples/50-lander_virtual_keyboard/ | ะะณัะฐัั ะทะดะตัั! |

---

## ๐ฎ ะัะฐะฒะธะปัะฝัะน workflow

```powershell
# 1. ะะฐะฟัััะธัั Node.js
.\start-local.ps1

# 2. ะฃะฑะตะดะธัััั ััะพ OpenServer ะทะฐะฟััะตะฝ
# (ะธะบะพะฝะบะฐ ะฒ ััะตะต Windows)

# 3. ะัะบัััั ะธะณัั
start http://localhost/examples/50-lander_virtual_keyboard/

# 4. ะะฐะทัะฐะฑะฐััะฒะฐัั ะธ ัะตััะธัะพะฒะฐัั!

# 5. ะััะฐะฝะพะฒะธัั Node.js ะบะพะณะดะฐ ะทะฐะบะพะฝัะธัะต
.\stop-local.ps1
```

---

## ๐ ะะฐ ะฟัะพะดะฐะบัะฝ ัะตัะฒะตัะต

**ะัะพัะต!** ะขะฐะผ ัะพะปัะบะพ ะพะดะธะฝ ะฟะพัั (80):

```
ะัะฐัะทะตั โ Nginx (port 80) โ Node.js (port 3000)
```

Nginx ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะพะบัะธััะตั ะฒัั ะฝะฐ Node.js.

URL: `http://51.250.30.92/examples/50-lander_virtual_keyboard/`

---

**ะัะพะณ:** ะะพะบะฐะปัะฝะพ ะธัะฟะพะปัะทัะนัะต `http://localhost/`, Node.js ัะฐะผ ะทะฐะฟัััะธััั ะฝะฐ ะฟะพััั 3000! ๐

